<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Etch-A-Sketch</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='style.css'>
</head>
<body>
    <div id="main-container">
        <div>
            <h1 id="title">Etch-A-Sketch</h1>
        </div>
        <div id="control-panel">
            <button class="button" id="reset-button">Reset</button>
            <button class="button" id="clean-button">Clean</button>
                <div id="color-buttons">
                    <button class="color" id="black"></button>
                    <button class="color" id="green"></button>
                <button class="color" id="blue"></button>
                <button class="color" id="red"></button>
                </div>
        </div>
        <div id="border">
            <div id="container"></div>
        </div>
    </div>
    <footer>Developed by Gastón Gómez</footer>
</body>

<script>
    const container = document.getElementById('container');
    const block = document.querySelectorAll('.block');
    const resetButton = document.getElementById('reset-button');
    const cleanButton = document.getElementById('clean-button');
    const color = document.querySelectorAll('.color');

    color.forEach(button => {
        button.addEventListener('click', (e) => {

            let option = button.id;

            selectColor(option);
        })
    })

    container.addEventListener('mouseover', (e)=>{
                e.target.style.backgroundColor = 'black'
    })
 

    cleanButton.addEventListener('click', (e)=>{
        cleanGrid()
    });

    resetButton.addEventListener('click', (e)=>{
        newGrid();
    });

    function createGrid(number){
    let cells = number*number;
        for (var i = 0; i<cells; i++){
            let block = document.createElement('div')
            container.appendChild(block);
            block.style.border = '1px gray solid;';
            block.style.height = `${600/number-2}px`
            block.style.width = `${600/number-2}px`
            block.classList.add('block');
            block.style.backgroundColor = 'white';
        }
    }

    function defaultGrid(){
        createGrid (16)
    }

    function newGrid(){
       
        let number = prompt('write a number between 1 and 150');

        if (number>0 && number<=150){
        let block = document.querySelectorAll('.block');
        block.forEach(block => {
            block.remove();
        });
        createGrid(number);
        }

        else if (number<= 0){
            alert('Your number is lower or equal to 0');
        }

        else {
            alert('Your number is higher than 150'); 
        }
    }

    function selectColor(option){
        if (option == 'red'){
            container.addEventListener('mouseover',(e)=>{
        e.target.style.backgroundColor = 'red';
    })
        }
        else if (option == 'green'){
            container.addEventListener('mouseover',(e)=>{
        e.target.style.backgroundColor = 'green';
    })
        }
        else if (option == 'blue'){
            container.addEventListener('mouseover',(e)=>{
        e.target.style.backgroundColor = 'blue';
    })
        }
        else{
            container.addEventListener('mouseover', (e)=>{
                e.target.style.backgroundColor = 'black'
            })
        }
    }

    function cleanGrid(){
        let block = document.querySelectorAll('.block');
        block.forEach(block => {
            block.style.backgroundColor = "white";
        });
    }

    defaultGrid();
</script>
</html>